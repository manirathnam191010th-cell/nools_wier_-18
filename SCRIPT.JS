// ---------------------------
// Welcome Screen Transition
// ---------------------------
document.getElementById('welcome-page').classList.add('active');
setTimeout(() => {
  document.getElementById('welcome-page').classList.remove('active');
  document.getElementById('form-page').classList.remove('hidden');
  document.getElementById('form-page').classList.add('active');
}, 4000);

// ---------------------------
// Form Submit Event
// ---------------------------
document.getElementById('userForm').addEventListener('submit', function (e) {
  e.preventDefault();
  const name = document.getElementById('name').value;
  const age = parseInt(document.getElementById('age').value);

  document.getElementById('form-page').classList.remove('active');
  document.getElementById('library-page').classList.remove('hidden');
  document.getElementById('library-page').classList.add('active');
  document.getElementById('welcomeUser').textContent = `ро╡рогроХрпНроХроорпН ${name}! роЗродрпЛ роЙроЩрпНроХро│рпН роирпВро▓роХроорпН ЁЯУЪ`;

  showCategories(age);
});

// ---------------------------
// Tamil Book Data (3├Ч20 Books)
// ---------------------------
const booksData = {
  kids: [
    { title: "рокроЮрпНроЪродроирпНродро┐ро░роХрпН роХродрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0193.pdf" },
    { title: "роПроЪрпЛрокрпНрокро┐ройрпН роирпАродро┐роХрпН роХродрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0021.pdf" },
    { title: "родрпЖройро╛ро▓ро┐ро░ро╛рооройрпН роХродрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0133.pdf" },
    { title: "ро╡ро┐роХрпНроХро┐ро░рооро╛родро┐родрпНродройрпН роХродрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0180.pdf" },
    { title: "роЪро┐ройрпНройроЮрпНроЪро┐ро▒рпБ роХродрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0055.pdf" },
    { title: "роиро▓рпНро▓ рокро┤роХрпНроХроХрпН роХродрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0290.pdf" },
    { title: "роЕроорпНрооро╛ро╡ро┐ройрпН роХродрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0295.pdf" },
    { title: "рооро┤ро▓рпИропро░рпН роХродрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0230.pdf" },
    { title: "рокро╛роЯро▓рпНроХро│рпБроорпН рокро┤роорпКро┤ро┐роХро│рпБроорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0186.pdf" },
    { title: "роиро▓рпНро▓ рооройроорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0210.pdf" },
    { title: "роЪро┐ройрпНрой родроорпНрокро┐ роХродрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0198.pdf" },
    { title: "роХрпБро┤роирпНродрпИроХро│рпН роХро╡ро┐родрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0200.pdf" },
    { title: "рокрпВроЩрпНроХрпБро┤ро▓ро┐ роХродрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0248.pdf" },
    { title: "рокро╛роЯрпНроЯрпБроорпН рокро╛роЯро▓рпБроорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0188.pdf" },
    { title: "родрооро┐ро┤рпН роиро╛роЯрпНроЯрпБрокрпН рокро┤роорпКро┤ро┐роХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0241.pdf" },
    { title: "роЪро┐ройрпНрой роЪро┐родрпНродро┐ро░роорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0215.pdf" },
    { title: "роорпБро░рпБроХройрпН роХродрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0232.pdf" },
    { title: "роорпБро▓рпНро▓рпИ роороирпНродро┐ро░роХрпН роХродрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0235.pdf" },
    { title: "роиро▓рпНро▓ роХрпБро┤роирпНродрпИ", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0253.pdf" },
    { title: "рокро╛роЯро▓рпН родрпКроХрпБрокрпНрокрпБ", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0266.pdf" }
  ],

  teens: [
    { title: "родро┐ро░рпБроХрпНроХрпБро▒ро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0043.pdf" },
    { title: "роЪро┐ро▓рокрпНрокродро┐роХро╛ро░роорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0001.pdf" },
    { title: "роорогро┐роорпЗроХро▓рпИ", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0002.pdf" },
    { title: "рокрпКройрпНройро┐ропро┐ройрпН роЪрпЖро▓рпНро╡ройрпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0007.pdf" },
    { title: "роЪро┐ро╡роХро╛рооро┐ропро┐ройрпН роЪрокродроорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0008.pdf" },
    { title: "рокро╛ро░родро┐ропро┐ройрпН рокро╛роЯро▓рпНроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0036.pdf" },
    { title: "рокро╛ро░родро┐родро╛роЪройрпН роХро╡ро┐родрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0053.pdf" },
    { title: "родро┐ро░рпБроХрпНроХрпБро▒ро│рпН ро╡ро┐ро│роХрпНроХроорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0040.pdf" },
    { title: "роЪрпБроирпНродро░ ро░ро╛роороЪро╛рооро┐ роХродрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0155.pdf" },
    { title: "роЪроЩрпНроХ роЗро▓роХрпНроХро┐ропроорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0098.pdf" },
    { title: "роХрогрпНрогродро╛роЪройрпН рокро╛роЯро▓рпНроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0178.pdf" },
    { title: "рокрпБро░ро╛рогроХрпН роХродрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0129.pdf" },
    { title: "родрооро┐ро┤рпН ро╡рпАро░роХрпН роХродрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0159.pdf" },
    { title: "роиро╛ро╡ро▓рпНроХро│рпН родрпКроХрпБрокрпНрокрпБ", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0209.pdf" },
    { title: "роЗро│рпИропрпЛро░рпБроХрпНроХро╛рой роЪро┐роирпНродройрпИ", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0170.pdf" },
    { title: "ро╡ро│рпНро│рпБро╡ро░ро┐ройрпН роЪро┐роирпНродройрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0112.pdf" },
    { title: "родрооро┐ро┤рпН роХро╡ро┐родрпИ рооро╛ро▓ро╛", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0184.pdf" },
    { title: "роЪро┐роирпНродройрпИ роТро│ро┐", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0174.pdf" },
    { title: "рокрпКройрпНрооро╛ро▓рпИ", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0217.pdf" },
    { title: "роЪро┐ро▒рпБроХродрпИ роЙро▓роХроорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0220.pdf" }
  ],

  adults: [
    { title: "родро┐ро░рпБро╡ро╛роЪроХроорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0065.pdf" },
    { title: "родро┐ро░рпБрокрпНрокро╛ро╡рпИ", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0063.pdf" },
    { title: "ро╡ро│рпНро│ро▓ро╛ро░рпН родро┐ро░рпБро╡ро░рпБроЯрпНрокро╛", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0066.pdf" },
    { title: "рокрпЖро░ро┐ропро╛ро░ро┐ройрпН роЪро┐роирпНродройрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0140.pdf" },
    { title: "роЕрогрпНрогро╛ роЙро░рпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0099.pdf" },
    { title: "роЪрпБрокрпНрокро┐ро░роорогро┐роп рокро╛ро░родро┐ роХроЯрпНроЯрпБро░рпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0088.pdf" },
    { title: "родро┐ро░рпБроороирпНродро┐ро░роорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0111.pdf" },
    { title: "роиро╛ропройро╛ро░рпН роЪро░ро┐родроорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0072.pdf" },
    { title: "рокро╛роХро╡род роХрпАродрпИ", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0125.pdf" },
    { title: "рооройро┐род роирпЗропроорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0151.pdf" },
    { title: "родродрпНродрпБро╡роорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0137.pdf" },
    { title: "родрооро┐ро┤ро░рпН рокрогрпНрокро╛роЯрпБ", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0115.pdf" },
    { title: "роЪро┐роирпНродройрпИ родрпБро│ро┐роХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0222.pdf" },
    { title: "роЕро░рпБроорпИ ро╡ро╛ро┤рпНроХрпНроХрпИ ро╡ро┤ро┐роХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0212.pdf" },
    { title: "роЗройро┐роп роЪро┐роирпНродройрпИроХро│рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0182.pdf" },
    { title: "родрооро┐ро┤рпН роЪро┐роирпНродройрпИ роЗро▓роХрпНроХро┐ропроорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0204.pdf" },
    { title: "ро╡ро╛ро┤рпНро╡ро┐ропро▓рпН родродрпНродрпБро╡роорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0217.pdf" },
    { title: "роирпВро▓рпН роЕро▒ро┐ро╡ро┐ропро▓рпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0185.pdf" },
    { title: "родро░рпНроороорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0163.pdf" },
    { title: "рокроХрпНродро┐ роЗро▓роХрпНроХро┐ропроорпН", url: "https://www.projectmadurai.org/pm_etexts/pdf/pm0153.pdf" }
  ]
};

// ---------------------------
// Show Books by Age
// ---------------------------
function showCategories(age) {
  const container = document.getElementById('categories');
  container.innerHTML = '';

  let selectedCategory = age < 13 ? 'kids' : age <= 19 ? 'teens' : 'adults';
  let books = booksData[selectedCategory];

  const catDiv = document.createElement('div');
  catDiv.className = 'category';
  catDiv.innerHTML = `<h3>${
    selectedCategory === 'kids'
      ? 'ЁЯСз роХрпБро┤роирпНродрпИроХро│рпБроХрпНроХро╛рой рокрпБродрпНродроХроЩрпНроХро│рпН'
      : selectedCategory === 'teens'
      ? 'ЁЯзСтАНЁЯОУ роЗро│рпИропрпЛро░рпБроХрпНроХро╛рой рокрпБродрпНродроХроЩрпНроХро│рпН'
      : 'ЁЯСитАНЁЯПл роорпБродро┐ро░рпНроирпНродрпЛро░рпБроХрпНроХро╛рой рокрпБродрпНродроХроЩрпНроХро│рпН'
  }</h3>`;

  books.forEach(book => {
    const div = document.createElement('div');
    div.className = 'book';
    div.textContent = book.title;
    div.onclick = () => window.open(book.url, '_blank');
    catDiv.appendChild(div);
  });

  container.appendChild(catDiv);
}

